<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.5">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; -webkit-text-stroke: #000000}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; -webkit-text-stroke: #000000; min-height: 14.0px}
    span.s1 {font-kerning: none}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE html&gt;</span></p>
<p class="p1"><span class="s1">&lt;html lang="en"&gt;</span></p>
<p class="p1"><span class="s1">&lt;head&gt;</span></p>
<p class="p1"><span class="s1">&lt;meta charset="UTF-8"&gt;</span></p>
<p class="p1"><span class="s1">&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</span></p>
<p class="p1"><span class="s1">&lt;title&gt;Primary 3 Science Quiz – Singapore Happy Quiz&lt;/title&gt;</span></p>
<p class="p1"><span class="s1">&lt;style&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>body {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>font-family: 'Comic Sans MS', cursive, sans-serif;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>background: #fff8e7;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>margin: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>padding: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>color: #333;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>.container {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>max-width: 900px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>margin: auto;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>background: #fff;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>padding: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>border-radius: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>box-shadow: 0 4px 10px rgba(0,0,0,0.1);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>h1 {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>text-align: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>color: #ff6f61;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>font-size: 2em;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>.question {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>margin-bottom: 15px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>padding: 15px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>border: 2px solid #ffcc80;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>border-radius: 15px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>background: #fff3e0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>.question h3 {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>margin: 0 0 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>font-size: 1.2em;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>.options button {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>display: block;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>margin: 5px 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>padding: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>width: 100%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>text-align: left;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>background: #fff;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>border: 2px solid #90caf9;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>border-radius: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>transition: background 0.2s;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>font-size: 1em;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>font-family: inherit; /* Inherit font from body */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>.options button:hover { background: #e3f2fd; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>.options button.correct { background: #c8e6c9 !important; border-color: #66bb6a; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>.options button.wrong { background: #ffcdd2 !important; border-color: #ef5350; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>#progress-container { background: #f0f0f0; border-radius: 10px; overflow: hidden; height: 20px; margin: 20px 0; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>#progress-bar { background: #81c784; height: 100%; width: 0; transition: width 0.3s; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>#timer { font-size: 1.3em; color: #ff7043; text-align: center; margin: 10px 0; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>#history { margin-top: 20px; padding: 10px; background: #f1f8e9; border-radius: 12px; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>#history h3 { margin-top: 0; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>.hidden { display: none; }</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">  </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>/* --- Styles for improved layout --- */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>.settings-form .form-control {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>margin-bottom: 15px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>.settings-form fieldset {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>border: none;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>padding: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>margin: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>.settings-form legend {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>font-weight: bold;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>margin-bottom: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>.settings-form label {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>margin-right: 15px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>display: inline-block;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>margin-bottom: 5px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>#startBtn, #result button {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>font-size: 1.2em;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>padding: 10px 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>border-radius: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>border: none;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>background: #ff6f61;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>color: white;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>#result button {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-top: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>}</span></p>
<p class="p1"><span class="s1">&lt;/style&gt;</span></p>
<p class="p1"><span class="s1">&lt;/head&gt;</span></p>
<p class="p1"><span class="s1">&lt;body&gt;</span></p>
<p class="p1"><span class="s1">&lt;div class="container"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;h1&gt;🎉 Singapore Happy Quiz 🎉&lt;/h1&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;div class="settings-form"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;div class="form-control"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;label&gt;Number of Questions: &lt;input type="number" id="numQuestions" value="5" min="1" max="50"&gt;&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;div class="form-control"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;label&gt;Time Limit (minutes): &lt;input type="number" id="timeLimit" value="5" min="1"&gt;&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;div class="form-control"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;label&gt;&lt;input type="checkbox" id="autoSubmit"&gt; Auto-submit when finished&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;fieldset class="form-control"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;legend&gt;Select Topics:&lt;/legend&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;label&gt;&lt;input type="checkbox" class="topic" value="Living &amp; Non-Living Things" checked&gt; Living &amp; Non-Living Things&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;label&gt;&lt;input type="checkbox" class="topic" value="Materials &amp; States of Matter" checked&gt; Materials &amp; States of Matter&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;label&gt;&lt;input type="checkbox" class="topic" value="Life Cycles" checked&gt; Life Cycles&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;label&gt;&lt;input type="checkbox" class="topic" value="Energy, Light &amp; Heat" checked&gt; Energy, Light &amp; Heat&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;label&gt;&lt;input type="checkbox" class="topic" value="Water &amp; Weather" checked&gt; Water &amp; Weather&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;label&gt;&lt;input type="checkbox" class="topic" value="Plants" checked&gt; Plants&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;label&gt;&lt;input type="checkbox" class="topic" value="Animals &amp; Habitats" checked&gt; Animals &amp; Habitats&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;label&gt;&lt;input type="checkbox" class="topic" value="Forces &amp; Simple Machines" checked&gt; Forces &amp; Simple Machines&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/fieldset&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;div class="form-control"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;button id="startBtn"&gt;🚀 Start Quiz&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;div id="timer"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;div id="progress-container" class="hidden"&gt;&lt;div id="progress-bar"&gt;&lt;/div&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;div id="quiz"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;button id="submitBtn" class="hidden"&gt;✅ Submit Quiz&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;div id="result"&gt;&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;div id="history"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;h3&gt;📜 Quiz History&lt;/h3&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;ul id="historyList"&gt;&lt;/ul&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1">&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">&lt;script&gt;</span></p>
<p class="p1"><span class="s1">const $ = s =&gt; document.querySelector(s);</span></p>
<p class="p1"><span class="s1">const $$ = s =&gt; document.querySelectorAll(s);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">const questions = {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>"Living &amp; Non-Living Things": [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>{ q: "Which of these is a living thing?", options: ["Rock", "Fish", "Table", "Spoon"], answer: "Fish" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>{ q: "Which of these needs air, food, and water to survive?", options: ["Tree", "Toy", "Car", "Cup"], answer: "Tree" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>{ q: "Which of these grows over time?", options: ["Cat", "Chair", "Pen", "Stone"], answer: "Cat" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>{ q: "Which of these can reproduce?", options: ["Dog", "Book", "Cup", "Shoe"], answer: "Dog" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>{ q: "Which characteristic shows something is living?", options: ["It moves on its own", "It can be painted", "It can be broken", "It has a shape"], answer: "It moves on its own" }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>"Materials &amp; States of Matter": [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>{ q: "Water can exist in which of these forms?", options: ["Solid, Liquid, Gas", "Solid only", "Gas only", "Liquid only"], answer: "Solid, Liquid, Gas" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>{ q: "Which material is transparent?", options: ["Wood", "Glass", "Metal", "Paper"], answer: "Glass" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>{ q: "Which material is a good conductor of electricity?", options: ["Copper", "Plastic", "Rubber", "Wood"], answer: "Copper" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>{ q: "Which of these melts when heated?", options: ["Ice", "Stone", "Wood", "Brick"], answer: "Ice" }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>"Life Cycles": [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>{ q: "What is the first stage of a butterfly’s life cycle?", options: ["Egg", "Caterpillar", "Pupa", "Adult"], answer: "Egg" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>{ q: "A young frog is called a?", options: ["Pupa", "Tadpole", "Larva", "Chick"], answer: "Tadpole" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>{ q: "Which stage comes after larva in a butterfly?", options: ["Pupa", "Egg", "Adult", "Caterpillar"], answer: "Pupa" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>{ q: "Seeds grow into plants under which conditions?", options: ["Soil, Water, Sunlight", "Only Soil", "Only Water", "Only Sunlight"], answer: "Soil, Water, Sunlight" }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>"Energy, Light &amp; Heat": [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>{ q: "The Sun is a source of?", options: ["Light and Heat", "Water", "Food", "Wind"], answer: "Light and Heat" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>{ q: "Which surface reflects light the best?", options: ["Mirror", "Paper", "Cloth", "Wood"], answer: "Mirror" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>{ q: "Which of these produces heat?", options: ["Candle", "Ice", "Water", "Stone"], answer: "Candle" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>{ q: "Shadows are formed when?", options: ["An object blocks light", "It rains", "Wind blows", "Plants grow"], answer: "An object blocks light" }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>"Water &amp; Weather": [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>{ q: "Water changes into water vapour during?", options: ["Melting", "Freezing", "Evaporation", "Condensation"], answer: "Evaporation" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>{ q: "Rain comes from?", options: ["Clouds", "Rivers", "Sea", "Plants"], answer: "Clouds" }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>"Plants": [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>{ q: "Which part of the plant makes food?", options: ["Leaf", "Root", "Stem", "Flower"], answer: "Leaf" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>{ q: "Which part of the plant takes in water?", options: ["Root", "Stem", "Leaf", "Flower"], answer: "Root" }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>"Animals &amp; Habitats": [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>{ q: "Which animal lives both on land and in water?", options: ["Frog", "Dog", "Bird", "Cat"], answer: "Frog" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>{ q: "Which animal lays eggs?", options: ["Cat", "Dog", "Hen", "Cow"], answer: "Hen" }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>"Forces &amp; Simple Machines": [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>{ q: "Which force pulls objects to the ground?", options: ["Gravity", "Push", "Friction", "Magnetism"], answer: "Gravity" },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>{ q: "A seesaw is an example of?", options: ["Lever", "Pulley", "Wheel", "Spring"], answer: "Lever" }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>]</span></p>
<p class="p1"><span class="s1">};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">let currentQuiz = [];</span></p>
<p class="p1"><span class="s1">let answers = {};</span></p>
<p class="p1"><span class="s1">let timerInterval;</span></p>
<p class="p1"><span class="s1">let timeLeft;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function shuffle(arr) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>for (let i = arr.length - 1; i &gt; 0; i--) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const j = Math.floor(Math.random() * (i + 1));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>[arr[i], arr[j]] = [arr[j], arr[i]];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>return arr;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function startQuiz() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>const numQ = parseInt($('#numQuestions').value);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>const limit = parseInt($('#timeLimit').value) * 60;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>const selectedTopics = [...$$('.topic:checked')].map(c =&gt; c.value);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>let pool = [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>selectedTopics.forEach(topic =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>if (questions[topic]) pool = pool.concat(questions[topic]);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>});</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>if (pool.length === 0) { alert("Please select at least one topic."); return; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>if (pool.length &lt; numQ) { alert(`Not enough questions for the selected topics! Please select more topics or fewer questions. Available: ${pool.length}`); return; }</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>currentQuiz = shuffle(pool).slice(0, numQ);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>answers = {};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>$('#quiz').innerHTML = '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>$('#result').innerHTML = '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>$('#submitBtn').classList.remove('hidden');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>$('.settings-form').classList.add('hidden');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>$('#progress-container').classList.remove('hidden');</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>currentQuiz.forEach((q, i) =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const qDiv = document.createElement('div');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>qDiv.className = 'question';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>qDiv.innerHTML = `&lt;h3&gt;Q${i+1}. ${q.q}&lt;/h3&gt;`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>const optsDiv = document.createElement('div');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>optsDiv.className = 'options';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>shuffle(q.options).forEach(opt =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const btn = document.createElement('button');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>btn.textContent = opt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>btn.onclick = () =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (answers[i] !== undefined) return; // Lock answer</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>answers[i] = opt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>optsDiv.querySelectorAll('button').forEach(b =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>if (b.textContent === q.answer) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>b.classList.add('correct');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>} else if (b.textContent === opt) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>b.classList.add('wrong');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>updateProgress();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if ($('#autoSubmit').checked &amp;&amp; Object.keys(answers).length === currentQuiz.length) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>setTimeout(submitQuiz, 500);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>optsDiv.appendChild(btn);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>qDiv.appendChild(optsDiv);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>$('#quiz').appendChild(qDiv);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>});</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>timeLeft = limit;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>clearInterval(timerInterval);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>if (limit &gt; 0) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>$('#timer').textContent = formatTime(timeLeft);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>timerInterval = setInterval(() =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>timeLeft--;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>$('#timer').textContent = formatTime(Math.max(0, timeLeft));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>if (timeLeft &lt;= 0) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>clearInterval(timerInterval);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>submitQuiz();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}, 1000);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>updateProgress();</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function updateProgress() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>const percent = (currentQuiz.length &gt; 0) ? (Object.keys(answers).length / currentQuiz.length) * 100 : 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>$('#progress-bar').style.width = percent + '%';</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function formatTime(sec) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>const m = Math.floor(sec / 60);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>const s = sec % 60;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>return `${m}:${s.toString().padStart(2, '0')}`;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function submitQuiz() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>clearInterval(timerInterval);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>$('#submitBtn').classList.add('hidden');</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">  </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>let score = 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>currentQuiz.forEach((q, i) =&gt; { if (answers[i] === q.answer) score++; });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>const percent = (currentQuiz.length &gt; 0) ? Math.round((score / currentQuiz.length) * 100) : 0;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">  </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>// Use location.reload() for a simple "Play Again" experience</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>$('#result').innerHTML = `&lt;h2&gt;🎯 You got ${score} / ${currentQuiz.length} (${percent}%)&lt;/h2&gt;&lt;button onclick="location.reload()"&gt;Play Again&lt;/button&gt;`;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>const history = JSON.parse(localStorage.getItem('quizHistory')) || [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>history.unshift({ date: new Date().toLocaleString(), score, total: currentQuiz.length });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>if (history.length &gt; 10) history.pop();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>localStorage.setItem('quizHistory', JSON.stringify(history));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>loadHistory();</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function loadHistory() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>const history = JSON.parse(localStorage.getItem('quizHistory')) || [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>$('#historyList').innerHTML = history.map(h =&gt; `&lt;li&gt;${h.date}: &lt;strong&gt;${h.score}/${h.total}&lt;/strong&gt;&lt;/li&gt;`).join('');</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">$('#startBtn').onclick = startQuiz;</span></p>
<p class="p1"><span class="s1">$('#submitBtn').onclick = submitQuiz;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">loadHistory();</span></p>
<p class="p1"><span class="s1">&lt;/script&gt;</span></p>
<p class="p1"><span class="s1">&lt;/body&gt;</span></p>
<p class="p1"><span class="s1">&lt;/html&gt;</span></p>
</body>
</html>
